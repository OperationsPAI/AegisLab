[project]
name = "{{{projectName}}}"
version = "{{{packageVersion}}}"
description = "{{{appDescription}}}"
authors = [
    { name = "Lincyaw", email = "814750204@qq.com" },
    { name = "rainystevn1", email = "rainystevn1@gmail.com" },
    { name = "YifanYang6", email = "yifanyang6@link.cuhk.edu.cn" },
]
license = "Apache-2.0"
readme = "README.md"

requires-python = ">=3.10"
dependencies = [
    "setuptools>=75.6.0",
    "tqdm>=4.67.1",
    "twine>=5.1.1",
    "wheel>=0.45.1",
    "urllib3>=2.2.3, < 3.0.0",
    "python-dateutil>=2.9.0.post0",
    "typing-extensions>=4.12.2",
    "lazy-imports>=1.0.1",
    "sseclient-py>=1.8.0",
    "pydantic>=2.12.3",
    "uv>=0.9.10",
]

[project.urls]
Repository = "https://{{{gitHost}}}/{{{gitUserId}}}/{{{gitRepoId}}}"
Pypi = "{{packageUrl}}"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"


[dependency-groups]
test = [
    "pytest>=8.3.5",
    "pytest-asyncio>=1.3.0",
    "pytest-order>=1.3.0",
    "python-dotenv>=1.1.1",
    "python-on-whales>=0.79.0",
]

[tool.ruff]
cache-dir = ".cache/ruff"
line-length = 120

[tool.ruff.lint]
select = [
    "E",  # https://docs.astral.sh/ruff/rules/#error-e
    "F",  # https://docs.astral.sh/ruff/rules/#pyflakes-f
    "I",  # https://docs.astral.sh/ruff/rules/#isort-i
    "UP", # https://docs.astral.sh/ruff/rules/#pyupgrade-up
]
ignore = ["F401", "E501", "UP031"]

[tool.pyright]
exclude = [ #
    ".git",
    "**/__pycache__",
    ".cache",
    ".idea",
    ".vscode",
    ".venv",
    ".devbox",
    "db/",
    "data/",
    "temp/",
    "logs/",
    "vendor/",
    "output/",
]


[tool.pytest.ini_options]
asyncio_mode = "auto"
asyncio_default_fixture_loop_scope = "session"
testpaths = ["tests"]
pythonpath = ["."]
addopts = ["-v", "--strict-markers", "--tb=short"]
markers = [
    "v2: marks tests for RCABench v2 API",
    "k8s: marks tests requiring Kubernetes cluster",
]