# values.yaml
image:
  repository: docker.io/opspai/rcabench
  tag: latest
  pullPolicy: Always

images:
  redis:
    repository: redis
    tag: 8.0-M02-alpine3.20
    pullPolicy: IfNotPresent
  mysql:
    repository: mysql
    tag: 8.0.43
    pullPolicy: IfNotPresent
  jaeger:
    repository: jaegertracing/all-in-one
    tag: latest
    pullPolicy: IfNotPresent
  busybox:
    repository: busybox
    tag: 1.35
    pullPolicy: IfNotPresent
  buildkit:
    repository: moby/buildkit
    tag: buildx-stable-1
    pullPolicy: IfNotPresent

configmap:
  name: "rcabench"
  version: "0.1.0"
  port: 8080
  workspace: "/app"
  system:
    env_mode: "prod"
    timezone: "Asia/Shanghai"
  initialization:
    data_path: "/app/data/initial_data"
  injection:
    benchmark: ["clickhouse"]
    target_label_key: "app"
    namespace_config:
      ts:
        count: 2
  database:
    clickhouse_host: "10.10.10.58"
    mysql_user: "root"
    mysql_password: "yourpassword"
    mysql_port: "3306"
    mysql_db: "rcabench"
  harbor:
    host: "10.10.10.240"
    project: "library"
    username: "admin"
    password: "Harbor12345"
  k8s:
    namespace: "exp"
    job:
      volume_mount:
        data:
          name: "data"
          mount_path: "/data"
          host_path: "/mnt/jfs/rcabench_dataset"
          type: "Directory"
        experiment_storage:
          name: "experiment-storage"
          mount_path: "/experiment_storage"
          host_path: "/mnt/jfs/experiment_storage"
          type: "Directory"
        kube_config:
          name: "kube-config"
          mount_path: "/root/.kube/config"
          sub_path: "config"
          source_type: "secret"
          secret_name: "kube-config"
  jfs:
    path: "/var/lib/rcabench"
  algo:
    detector: "detector"
  container:
    storage_path: "/app/containers"
  debugging:
    enable: false
  rate_limiting:
    max_concurrent_builds: 3
    max_concurrent_restarts: 2
    max_concurrent_algo_execution: 5
    token_wait_timeout: 10

persistence:
  redis:
    enabled: true
    accessMode: ReadWriteOnce
    size: 1Gi
    storageClass: ""
  mysql:
    enabled: true
    accessMode: ReadWriteOnce
    size: 1Gi
    storageClass: ""
  jaeger:
    enabled: true
    accessMode: ReadWriteOnce
    size: 2Gi
    storageClass: ""
  containers:
    enabled: true
    accessMode: ReadWriteOnce
    size: 1Gi
    storageClass: ""
